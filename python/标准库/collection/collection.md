å½“ç„¶å¯ä»¥ï¼`collections` æ˜¯ Python çš„ä¸€ä¸ª **å†…ç½®æ ‡å‡†åº“**ï¼Œå®ƒæ‰©å±•äº†å†…å»ºçš„æ•°æ®ç»“æ„ï¼ˆå¦‚ `dict`, `list`, `tuple`, `set`ï¼‰ï¼Œæä¾›äº†å‡ ä¸ª **é«˜æ€§èƒ½ä¸”çµæ´»çš„å®¹å™¨æ•°æ®ç±»å‹**ï¼Œéå¸¸é€‚åˆç”¨äºæ›´å¤æ‚çš„æ•°æ®ç»„ç»‡åœºæ™¯ã€‚

---

## ğŸ§° ä¸€ã€`collections` ä¸­çš„æ ¸å¿ƒæ•°æ®ç»“æ„

| åç§° | ä½œç”¨ | ç±»ä¼¼äº | ç®€å•è§£é‡Š |
|------|------|--------|----------|
| `namedtuple` | å‘½åå…ƒç»„ | `tuple` | ç±»ä¼¼ç±»çš„è½»é‡å¯¹è±¡ï¼Œå¯ç”¨å±æ€§è®¿é—® |
| `deque` | åŒç«¯é˜Ÿåˆ— | `list` | é«˜æ•ˆçš„ä¸¤ç«¯æ“ä½œ |
| `Counter` | è®¡æ•°å™¨ | `dict` | ç»Ÿè®¡å…ƒç´ é¢‘ç‡ |
| `defaultdict` | å¸¦é»˜è®¤å€¼çš„å­—å…¸ | `dict` | è‡ªåŠ¨åˆå§‹åŒ–é”® |
| `OrderedDict` | æœ‰åºå­—å…¸ï¼ˆâ‰¤Python 3.6ï¼‰ | `dict` | è®°ä½æ·»åŠ é¡ºåºï¼ˆ3.7å `dict` ä¹Ÿæ”¯æŒï¼‰ |
| `ChainMap` | å­—å…¸åˆå¹¶è§†å›¾ | å¤šä¸ª `dict` | å¤šå±‚å‘½åç©ºé—´ç®¡ç† |

---

## ğŸ¯ äºŒã€å„ä¸ªç±»å‹è¯¦ç»†è®²è§£ + ç¤ºä¾‹

---

### 1. `namedtuple`ï¼šå…·åå…ƒç»„ ğŸ’¼

```python
from collections import namedtuple

Point = namedtuple("Point", ["x", "y"])
p = Point(1, 2)

print(p.x, p.y)  # 1 2
print(p)         # Point(x=1, y=2)
```

ğŸ“Œ ä¼˜ç‚¹ï¼š
- åƒç±»ä¸€æ ·æœ‰å­—æ®µå
- åƒå…ƒç»„ä¸€æ ·è½»é‡ã€ä¸å¯å˜
- å¯è¯»æ€§å¼ºï¼Œé€‚åˆå­˜å‚¨ç»“æ„åŒ–æ•°æ®ï¼ˆå¦‚ç‚¹ã€çŸ©å½¢ã€åæ ‡ç­‰ï¼‰

---

### 2. `deque`ï¼šåŒç«¯é˜Ÿåˆ— ğŸš„

```python
from collections import deque

dq = deque([1, 2, 3])
dq.appendleft(0)   # ä»å·¦è¾¹æ·»åŠ 
dq.append(4)       # ä»å³è¾¹æ·»åŠ 
dq.pop()           # åˆ é™¤å³è¾¹
dq.popleft()       # åˆ é™¤å·¦è¾¹

print(dq)  # deque([1, 2, 3])
```

ğŸ“Œ ä¼˜ç‚¹ï¼š
- æ”¯æŒä»å¤´å°¾å¿«é€Ÿæ’å…¥/åˆ é™¤ï¼ˆ`list` åšä¸åˆ°è¿™ä¹ˆå¿«ï¼‰
- é€‚åˆåšé˜Ÿåˆ—ã€æ ˆã€æ»‘åŠ¨çª—å£ã€æœ€è¿‘è®¿é—®è®°å½•ç­‰åœºæ™¯

---

### 3. `Counter`ï¼šè®¡æ•°å™¨ ğŸ“Š

```python
from collections import Counter

c = Counter("banana")
print(c)  # Counter({'a': 3, 'n': 2, 'b': 1})
print(c['a'])  # 3
```

å¸¸è§ç”¨é€”ï¼š
- å­—ç¬¦é¢‘ç‡ç»Ÿè®¡
- è¯é¢‘åˆ†æ
- å¤šé›†åˆåˆå¹¶/ç›¸å‡

```python
c1 = Counter("apple")
c2 = Counter("plum")
print(c1 + c2)  # åˆå¹¶è®¡æ•°
```

---

### 4. `defaultdict`ï¼šé»˜è®¤å­—å…¸ ğŸ§©

```python
from collections import defaultdict

d = defaultdict(int)
d["apple"] += 1
print(d["apple"])  # 1
print(d["banana"]) # 0ï¼Œè‡ªåŠ¨ç»™ä¸ª int() é»˜è®¤å€¼
```

ğŸ“Œ åº”ç”¨åœºæ™¯ï¼š
- è‡ªåŠ¨åˆ›å»º list/dict/set
- åˆ†ç±»ã€åˆ†ç»„ã€ç»Ÿè®¡æ—¶å¾ˆæ–¹ä¾¿

```python
d = defaultdict(list)
d["fruits"].append("apple")
```

---

### 5. `OrderedDict`ï¼ˆPython 3.6 ä¹‹å‰é‡è¦ï¼‰ğŸ“š

```python
from collections import OrderedDict

od = OrderedDict()
od["b"] = 2
od["a"] = 1
print(od)  # æŒ‰æ’å…¥é¡ºåºæ˜¾ç¤ºï¼šOrderedDict([('b', 2), ('a', 1)])
```

- Python 3.7+ çš„æ™®é€šå­—å…¸ `dict` ä¹Ÿä¿æŒé¡ºåºäº†ï¼Œæ‰€ä»¥ç°åœ¨ç”¨å¾—å°‘

---

### 6. `ChainMap`ï¼šå¤šä¸ªå­—å…¸åˆå¹¶è§†å›¾ ğŸ”—

```python
from collections import ChainMap

dict1 = {'a': 1, 'b': 2}
dict2 = {'b': 3, 'c': 4}

cm = ChainMap(dict1, dict2)
print(cm['b'])  # 2ï¼Œä¼˜å…ˆä»ç¬¬ä¸€ä¸ªå­—å…¸æ‰¾
```

ğŸ“Œ å¸¸è§ç”¨é€”ï¼š
- å±‚çº§å‘½åç©ºé—´ï¼ˆå¦‚å±€éƒ¨å˜é‡ + å…¨å±€å˜é‡ï¼‰
- å¤šé…ç½®åˆå¹¶ï¼ˆç”¨æˆ·é…ç½®è¦†ç›–é»˜è®¤é…ç½®ï¼‰

---

## ğŸ” ä¸‰ã€ç”¨æ³•å¯¹æ¯”æ€»ç»“

| ç±»å‹ | é€‚åˆåœºæ™¯ |
|------|----------|
| `namedtuple` | ç®€å•ç»“æ„æ•°æ®ï¼Œä»£æ›¿ç±» |
| `deque` | é˜Ÿåˆ—ã€æ ˆã€ä¸¤ç«¯æ“ä½œ |
| `Counter` | ç»Ÿè®¡é¢‘ç‡ï¼Œè®¡æ•°åˆ†æ |
| `defaultdict` | åˆ†ç»„ã€åµŒå¥—å­—å…¸ç­‰å¤æ‚é»˜è®¤ç»“æ„ |
| `OrderedDict` | æœ‰åºå­—å…¸ï¼ˆå…¼å®¹æ—§ç‰ˆæœ¬ï¼‰ |
| `ChainMap` | å¤šå­—å…¸åˆå¹¶è§†å›¾ã€ä½œç”¨åŸŸæ¨¡æ‹Ÿ |

---

## ğŸ“¦ å››ã€å¿«é€ŸæŸ¥çœ‹æ–‡æ¡£

ä½ å¯ä»¥è¿™æ ·å¿«é€ŸæŸ¥çœ‹æ‰€æœ‰å‡½æ•°/ç±»çš„è¯´æ˜ï¼š

```python
import collections
help(collections)
```

---

å¦‚æœä½ æ„¿æ„ï¼Œå¯ä»¥å‘Šè¯‰æˆ‘ä½ æœ€è¿‘çš„å…·ä½“ä»»åŠ¡ï¼Œæ¯”å¦‚â€œç»Ÿè®¡æ•°æ®é¢‘ç‡â€â€œæ„å»ºæ ‘ç»“æ„â€â€œæ¨¡æ‹Ÿé˜Ÿåˆ—â€ä¹‹ç±»ï¼Œæˆ‘å¯ä»¥ç›´æ¥å¸®ä½ å†™ä¸€ä¸ªåŸºäº `collections` çš„ä»£ç æ ·ä¾‹ ğŸ‘ è¦ä¸è¦è¯•è¯•çœ‹ï¼Ÿ