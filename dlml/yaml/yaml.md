# 1
æˆ‘æ˜¯ä¸æ˜¯è¦æ›´æ”¹ymlé‡Œé¢çš„prefix: /Users/jlakkis/anaconda3/envs/cardec

éå¸¸å¥½çš„ç»†èŠ‚é—®é¢˜ï¼ä½ è§‚å¯Ÿå¾—å¾ˆåˆ°ä½ã€‚

---

### ğŸ¯ **å…³äº `prefix` å­—æ®µ**
`.yml` æ–‡ä»¶æœ«å°¾çš„è¿™ä¸ªï¼š
```yaml
prefix: /Users/jlakkis/anaconda3/envs/cardec
```
**å®ƒæ˜¯å†™æ­»çš„ä½œè€…æœºå™¨ä¸Šçš„ç¯å¢ƒè·¯å¾„**  
é€šå¸¸æ˜¯ **Mac æˆ–æŸä¸ªå…·ä½“ç”¨æˆ·çš„è·¯å¾„**ï¼Œ**å¯¹ä½ æ²¡ç”¨ï¼Œåè€Œä¼šå¯¼è‡´å®‰è£…å¤±è´¥æˆ–ç¯å¢ƒåˆ›å»ºåˆ°å¥‡æ€ªçš„åœ°æ–¹ã€‚**

---

### âœ… **æ˜¯å¦éœ€è¦æ”¹ï¼Ÿ**
ä½ æœ‰ä¸¤ä¸ªé€‰æ‹©ï¼š

#### ã€æ–¹æ¡ˆ Aã€‘â€”â€”**ç›´æ¥åˆ é™¤ `prefix`**
è¿™æ˜¯æ¨èåšæ³•ã€‚
```yaml
# åˆ é™¤æœ€åä¸€è¡Œ
prefix: /Users/jlakkis/anaconda3/envs/cardec
```
ç„¶åå†è¿è¡Œï¼š
```bash
mamba env create -f cardec.yml
```
**è¿™æ · conda/mamba ä¼šæ ¹æ® `name:` å­—æ®µè‡ªåŠ¨åˆ›å»ºç¯å¢ƒï¼Œä½ç½®åœ¨ä½ çš„ anaconda3/envs/ ä¸‹ï¼Œä¸éœ€è¦æ‰‹åŠ¨æŒ‡å®šè·¯å¾„ã€‚**

---

#### ã€æ–¹æ¡ˆ Bã€‘â€”â€”**æ”¹æˆä½ è‡ªå·±çš„è·¯å¾„**
å¦‚æœä½ æƒ³å¼ºè¡ŒæŒ‡å®šç¯å¢ƒå®‰è£…ä½ç½®ï¼Œä¹Ÿå¯ä»¥æ”¹æˆï¼š
```yaml
prefix: /home/luke/anaconda3/envs/cardec
```
ä¸è¿‡ **æ²¡å¿…è¦**ï¼Œé™¤éä½ ç‰¹åˆ«æƒ³æ§åˆ¶å®‰è£…ç›®å½•ã€‚

---

### âš ï¸ **å¦‚æœä½ ä¸åˆ æˆ–ä¸æ”¹ï¼Œé€šå¸¸ä¼šæŠ¥è¿™ç§é”™ï¼š**
```
CondaValueError: prefix already exists: /Users/jlakkis/anaconda3/envs/cardec
```
å› ä¸ºä½ çš„æœºå™¨ä¸Š **æ ¹æœ¬æ²¡æœ‰è¿™ä¸ªç›®å½•**ã€‚

---

### ğŸ”¥ **æ€»ç»“**
| ä½ è¦ä¸è¦æ”¹ï¼Ÿ | å»ºè®® |
|:-:|:-|
| æƒ³ç®€å•å¿«é€Ÿéƒ¨ç½² | **ç›´æ¥åˆ æ‰ `prefix` å­—æ®µ** |
| æƒ³æ‰‹åŠ¨æŒ‡å®šå®‰è£…è·¯å¾„ | å¯ä»¥æ”¹æˆä½ è‡ªå·±çš„ `/home/luke/anaconda3/envs/cardec` |

---

**å¦‚æœä½ æƒ³ï¼Œæˆ‘å¯ä»¥å¸®ä½ æŠŠæ•´ä¸ª cardec.yml å’Œ cardec_alternatives.yml ä¸¤ä¸ªæ–‡ä»¶å¸®ä½ æ¸…ç†å¥½ï¼Œæ”¹æˆé€‚åˆä½  Linux ç¯å¢ƒçš„ç‰ˆæœ¬ã€‚**  
è¦ä¸è¦ï¼Ÿ
# 2
```
base) luke@akubi:~/Projects/CarDEC_Codes$ mamba env create -f cardec.yml
warning  libmamba 'repo.anaconda.com', a commercial channel hosted by Anaconda.com, is used.
    
warning  libmamba Please make sure you understand Anaconda Terms of Services.
    
warning  libmamba See: https://legal.anaconda.com/policies/en/

error    libmamba Could not solve for environment specs
    The following packages are incompatible
    â”œâ”€ appnope =0.1.2 py37hecd8cb5_1001 does not exist (perhaps a typo or a missing channel);
    â”œâ”€ argon2-cffi =20.1.0 py37haf1e3a3_1 does not exist (perhaps a typo or a missing channel);
    â”œâ”€ brotlipy =0.7.0 py37h9ed2024_1003 does not exist (perhaps a typo or a missing channel);
    â”œâ”€ bzip2 =1.0.8 h1de35cc_0 does not exist (perhaps a typo or a missing channel);

critical libmamba Could not solve for environment specs
```

ä½ è¿™ä¸ªé—®é¢˜éå¸¸å…¸å‹ï¼Œæ˜¯å› ä¸ºä½ ç”¨çš„ `cardec.yml` æ–‡ä»¶ **æ¥æºäº Mac ç³»ç»Ÿ**ï¼ˆä½ çœ‹é‡Œé¢å¾ˆå¤š package ååç¼€éƒ½æ˜¯ `osx-64`ã€`hecd8cb5`ã€`hf348343`ï¼‰ï¼Œè€Œä½ ç°åœ¨æ˜¯åœ¨ **Linux (Ubuntu)** ä¸Šè¿è¡Œï¼Œæ‰€ä»¥è¿™äº›åŒ…æ ¹æœ¬ä¸å­˜åœ¨æˆ–æ— æ³•å®‰è£…ã€‚

è¿™äº› YAML æ–‡ä»¶é‡Œçš„å†…å®¹æ˜¯ **å¹³å°ç›¸å…³çš„**ï¼Œå°¤å…¶æ˜¯å…¶ä¸­çš„ `prefix` è·¯å¾„ï¼ˆMacè·¯å¾„ï¼‰å’Œå…·ä½“çš„åŒ…ç‰ˆæœ¬å·ï¼Œå¯¼è‡´äº† **è·¨ç³»ç»Ÿæ—¶åŸºæœ¬ä¸å¯ç”¨**ã€‚

---

### **ä½ ç›®å‰çš„æƒ…å†µæ€»ç»“**
- ä¸æ˜¯ä½  `prefix` è·¯å¾„çš„é—®é¢˜ï¼Œæ”¹äº†ä¹Ÿæ²¡ç”¨ã€‚
- ä¸»è¦æ˜¯ `.yml` æ–‡ä»¶æ˜¯ Mac ä¸Šç›´æ¥å¯¼å‡ºçš„ï¼Œé‡Œé¢é”æ­»äº† **Mac ç‰¹æœ‰çš„åŒ…ç‰ˆæœ¬ã€å¹³å°æŒ‡ä»¤é›†**ã€‚
- **ä½ åœ¨ Linux ä¸Šç›´æ¥ç”¨ä¼šå¯¼è‡´å¤§é¢ç§¯æ‰¾ä¸åˆ°åŒ…ï¼ˆæ­£å¦‚ä½ æŠ¥é”™æç¤ºçš„ï¼‰**ã€‚

---

### ğŸ¯ **è§£å†³æ–¹æ³•**
**æ–¹æ¡ˆ1ï¼ˆæ¨èï¼Œé€šç”¨æ–¹æ¡ˆï¼‰**ï¼š  
ä½ æŠŠ `.yml` æ–‡ä»¶é‡Œé™¤äº† `dependencies` éƒ¨åˆ†çš„ **åŒ…å** å’Œ **å¤§è‡´ç‰ˆæœ¬** ç•™ä¸‹ï¼Œå»æ‰ï¼š
- `prefix` è·¯å¾„
- Mac å¹³å°ç›¸å…³çš„å…·ä½“ build å­—æ®µï¼ˆæ¯”å¦‚ `py37hecd8cb5_1001`ï¼‰
  
ç„¶åç”¨ `conda` é‡æ–°è§£å†³ä¾èµ–ï¼š
```bash
mamba env create -f cleaned_cardec.yml
```

**æ–¹æ¡ˆ2ï¼ˆæ›´æš´åŠ›ï¼Œä½†æœ€ç¨³ï¼‰**ï¼š
çœ‹ä¸€ä¸‹ `.yml` æ–‡ä»¶é‡Œçš„ä¸»è¦åŒ…ï¼Œæ¯”å¦‚ï¼š
```yml
dependencies:
  - python=3.7
  - numpy
  - scipy
  - pandas
  - matplotlib
  - scikit-learn
  - jupyter
  - ...
```
ä½ å¯ä»¥ç›´æ¥ **æ‰‹åŠ¨å†™ä¸€ä¸ªæ–°çš„ `cardec-linux.yml`**ï¼ŒæŠŠè¿™äº›æ ¸å¿ƒåŒ…å†™è¿›å»ï¼Œå†åˆ›å»ºç¯å¢ƒï¼š
```bash
mamba create -n cardec python=3.7 numpy scipy pandas matplotlib scikit-learn jupyter
```
è¿™æ ·å¹²å‡€ä¸”ä¸ä¼šå› ä¸ºæ—§ç‰ˆæœ¬åŒ…æ‰¾ä¸åˆ°è€Œå‡ºé”™ã€‚

---

### ğŸš« **ä¸ºä»€ä¹ˆç›´æ¥æ”¹ prefix æ²¡ç”¨ï¼Ÿ**
`prefix` åªæ˜¯åœ¨ Mac ä¸ŠæŒ‡å®šç¯å¢ƒçš„è·¯å¾„ï¼Œä½  Linux ä¸Šçš„ç¯å¢ƒè·¯å¾„æ˜¯ä¸åŒçš„ï¼Œå³ä½¿æ”¹äº†ä¹Ÿæ²¡æ³•è§£å†³ **åŒ…æœ¬èº«æ˜¯ Mac-only** çš„é—®é¢˜ã€‚

---

### âœ… **å¦‚æœä½ æƒ³ï¼Œæˆ‘å¯ä»¥å¸®ä½ **
**æŠŠä½ ç°æœ‰çš„ cardec.yml æ–‡ä»¶æ¸…ç†å¥½ï¼Œé€‚ç”¨äº Linux**ï¼Œåªä¿ç•™æ ¸å¿ƒä¾èµ–åŒ…ï¼Œå»æ‰æ‰€æœ‰ Mac-specific çš„ä¸œè¥¿ï¼Œè®©ä½ ä¸€æ¡å‘½ä»¤å°±èƒ½è£…å¥½ã€‚

è¦ä¸è¦å‘æˆ‘ä½ çš„ `cardec.yml` æ–‡ä»¶ï¼Ÿ  
**æˆ‘å¸®ä½ æ”¹å¥½å‘å›ç»™ä½ ã€‚**

ä½ é—®å¾—å¥½ï¼Œè¿™é‡Œçš„ã€Œåç¼€ã€æŒ‡çš„æ˜¯ **conda åŒ…ååé¢çš„ Build ç¼–å·** å’Œ **å¹³å°æ ‡ç­¾**ï¼Œæ¯”å¦‚ä¸‹é¢è¿™äº› ğŸ‘‡

#### ä¸¾ä¾‹è¯´æ˜ï¼š
åœ¨ä½  `cardec.yml` æ–‡ä»¶é‡Œåº”è¯¥æœ‰ç±»ä¼¼è¿™æ ·çš„ä¾èµ–ï¼š
```
- numpy=1.21.2=py37hecd8cb5_0
- scipy=1.7.1=py37h888b3d9_2
```
è¿™é‡Œé¢ï¼š
- `py37hecd8cb5_0`  
- `py37h888b3d9_2`  

è¿™äº›å°±å« **build string**ï¼ˆä¹Ÿå«åç¼€ï¼‰ï¼Œå®ƒåŒ…å«ï¼š
1. **Python ç‰ˆæœ¬** â†’ `py37`
2. **ç¼–è¯‘å¹³å°ä¿¡æ¯** â†’ `hecd8cb5`ã€`h888b3d9`
3. **build ç‰ˆæœ¬å·** â†’ `_0`ã€`_2`

è¿™äº›éƒ½æ˜¯ **Mac ç³»ç»Ÿä¸‹ conda build çš„æ ‡è®°**ï¼Œå®ƒè·Ÿ Linux ç³»ç»Ÿçš„åŒ…æ ¹æœ¬å¯¹ä¸ä¸Šã€‚
---

### **Linux ä¸‹çš„åç¼€ä¼šé•¿è¿™æ ·**
åœ¨ Ubuntu (Linux) ä¸‹å®‰è£…åŒæ ·çš„åŒ…æ—¶ï¼Œbuild string å°±ä¼šå˜æˆï¼š
```
- numpy=1.21.2=py37h6c91a56_0
- scipy=1.7.1=py37h292c36d_2
```
è·Ÿ Mac ç‰ˆå®Œå…¨ä¸åŒã€‚

---

### â—ï¸æ‰€ä»¥é—®é¢˜æ ¹æºæ˜¯ï¼š
ä½ çš„ `.yml` æ–‡ä»¶é‡Œè¿™äº› **Mac-only åç¼€** è®© conda/mamba å» Linux çš„æºé‡Œæ‰¾ï¼Œ**æ ¹æœ¬æ‰¾ä¸åˆ°**ï¼Œå°±ä¼šæŠ¥ï¼š
```
ResolvePackageNotFound: 
  - numpy=1.21.2=py37hecd8cb5_0
  - scipy=1.7.1=py37h888b3d9_2
```

---

### ğŸ”¥**è§£å†³æ–¹æ¡ˆ**
**è¦ä¹ˆåˆ æ‰è¿™äº›åç¼€ï¼Œåªä¿ç•™åŒ…åå’Œç‰ˆæœ¬ï¼š**
```yml
- numpy=1.21.2
- scipy=1.7.1
```
è®© conda/mamba è‡ªåŠ¨åœ¨ Linux æºé‡Œæ‰¾åˆ°å¯¹åº”ç‰ˆæœ¬ã€‚

**è¦ä¹ˆç›´æ¥ç”¨æˆ‘å¸®ä½ æ¸…ç†å¥½çš„ `.yml` æ–‡ä»¶ï¼Œé€šç”¨ Linuxã€‚**

---

**å¦‚æœä½ æ„¿æ„ï¼ŒæŠŠä½ çš„ cardec.yml æ–‡ä»¶å‘æˆ‘ï¼Œæˆ‘ç›´æ¥å¸®ä½ æ¸…ç†å¹²å‡€ã€‚**
ä½ åˆ°æ—¶å€™ä¸€æ¡å‘½ä»¤å°±èƒ½è£…å¥½ç¯å¢ƒã€‚  
è¦ä¸è¦ï¼Ÿ